@tailwind base;
@tailwind components;
@tailwind utilities;

/* Alpine.js cloak */
[x-cloak] { display: none !important; }

/* Chat bubble */
.chat-bubble { max-width: 85%; }

/* Markdown prose styling in chat bubbles */
.chat-bubble .prose {
    color: inherit;
}
.chat-bubble .prose p {
    margin: 0.25em 0;
}
.chat-bubble .prose p:first-child {
    margin-top: 0;
}
.chat-bubble .prose p:last-child {
    margin-bottom: 0;
}
.chat-bubble .prose strong {
    color: inherit;
    font-weight: 600;
}
.chat-bubble .prose em {
    font-style: italic;
    opacity: 0.9;
}
.chat-bubble .prose ul, .chat-bubble .prose ol {
    margin: 0.5em 0;
    padding-left: 1.25em;
}
.chat-bubble .prose li {
    margin: 0.125em 0;
}
.chat-bubble .prose code {
    background: rgba(0,0,0,0.1);
    padding: 0.125em 0.25em;
    border-radius: 0.25em;
    font-size: 0.875em;
}
.chat-bubble .prose pre {
    background: rgba(0,0,0,0.15);
    padding: 0.5em;
    border-radius: 0.25em;
    overflow-x: auto;
    margin: 0.5em 0;
}
.chat-bubble .prose pre code {
    background: transparent;
    padding: 0;
}

/* Typing indicator */
.typing-indicator::after {
    content: '...';
    animation: dots 1.5s steps(4, end) infinite;
}

@keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
}

/* Logo invert for light theme */
[data-theme="light"] .logo-invert {
    filter: invert(1) hue-rotate(180deg);
}

/* Line clamp utilities */
.line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* FilePond dark mode support */
[data-theme="dark"] .filepond--panel-root {
    background-color: oklch(var(--b2));
}

[data-theme="dark"] .filepond--drop-label {
    color: oklch(var(--bc));
}

[data-theme="dark"] .filepond--label-action {
    color: oklch(var(--p));
}

[data-theme="dark"] .filepond--drip-blob {
    background-color: oklch(var(--p));
}

[data-theme="dark"] .filepond--item-panel {
    background-color: oklch(var(--b3));
}

[data-theme="dark"] .filepond--file-action-button {
    background-color: oklch(var(--b1));
}

[data-theme="dark"] .filepond--file {
    color: oklch(var(--bc));
}
